<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>QTS Dashboard</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 24px; }
    .row { display: flex; gap: 16px; flex-wrap: wrap; }
    .card { border: 1px solid #ddd; border-radius: 12px; padding: 16px; min-width: 280px; box-shadow: 0 1px 4px rgba(0,0,0,0.06); }
    h1 { margin-top: 0; }
    button { padding: 8px 14px; border: 0; border-radius: 8px; cursor: pointer; }
    .primary { background: #2563eb; color: white; }
    .danger { background: #dc2626; color: white; }
    .ghost { background: #f3f4f6; color: #111827; }
    .muted { color: #6b7280; font-size: 14px; }
    a { color: #2563eb; text-decoration: none; }
  </style>
</head>
<body>
  <h1>QTS Control Panel</h1>

  <div class="row">
    <div class="card">
      <h3>Status</h3>
      <p class="muted">Crawl process: <strong>{{ 'RUNNING' if crawl_running else 'IDLE' }}</strong></p>
      <form method="post" action="/dashboard/crawl/start" style="display:inline">
        <button class="primary" {% if crawl_running %}disabled{% endif %}>Start Crawl</button>
      </form>
      <form method="post" action="/dashboard/crawl/stop" style="display:inline">
        <button class="danger" {% if not crawl_running %}disabled{% endif %}>Stop Crawl</button>
      </form>
      <form method="post" action="/dashboard/schedule/run-now" style="display:inline">
        <button class="ghost">Run Scheduled Job Now</button>
      </form>
    </div>

    <div class="card">
      <h3>Quick Links</h3>
      <p><a href="/docs" target="_blank">Swagger API</a></p>
      <p><a href="/dashboard/docs" target="_blank">Project Docs</a></p>
      <p><a href="{{ mongo_ui }}" target="_blank">Mongo UI</a></p>
        <p><a class="muted" href="/dashboard/logs">View Logs</a></p>
      <p class="muted">Header required: <code>X-API-Key</code></p>
    </div>
  </div>
</body>
</html>
